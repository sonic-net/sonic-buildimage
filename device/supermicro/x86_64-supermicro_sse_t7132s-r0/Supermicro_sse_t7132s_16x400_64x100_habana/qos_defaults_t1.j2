{% set mgmt_port_name = ['Ethernet256','Ethernet257'] %}
{% set port_names_list = [] %}
{% for port in PORT %}
    {% if port not in mgmt_port_name %}
        {%- if port_names_list.append(port) %}{% endif %}
    {% endif %}
{% endfor %}
{% set port_names = port_names_list | join(',') -%}


{
   "TC_TO_QUEUE_MAP":{
        "AZURE":{
            "0":"0",
            "1":"1",
            "2":"2",
            "3":"3",
            "4":"4",
            "5":"5",
            "6":"6",
            "7":"7"
        }
    },
    "MAP_PFC_PRIORITY_TO_QUEUE": {
        "AZURE": {
            "0": "0",
            "1": "1",
            "2": "2",
            "3": "3",
            "4": "4",
            "5": "5",
            "6": "6",
            "7": "7"
        }
    },
    "TC_TO_PRIORITY_GROUP_MAP": {
    "AZURE": {
        "0": "0",
        "1": "0",
        "2": "2",
        "3": "3",
        "4": "0",
        "5": "0",
        "6": "0",
        "7": "0"
    }
    },
       "DSCP_TO_TC_MAP": {
        "AZURE": {
            "0" : "1",
            "1" : "1",
            "2" : "1",
            "3" : "1",
            "4" : "1",
            "5" : "1",
            "6" : "1",
            "7" : "1",
            "8" : "0",
            "9" : "0",
            "10": "0",
            "11": "0",
            "12": "0",
            "13": "0",
            "14": "0",
            "15": "0",
            "16": "2",
            "17": "2",
            "18": "2",
            "19": "2",
            "20": "2",
            "21": "2",
            "22": "2",
            "23": "2",
            "24": "3",
            "25": "3",
            "26": "3",
            "27": "3",
            "28": "3",
            "29": "3",
            "30": "3",
            "31": "3",
            "32": "4",
            "33": "4",
            "34": "4",
            "35": "4",
            "36": "4",
            "37": "4",
            "38": "4",
            "39": "4",
            "40": "5",
            "41": "5",
            "42": "5",
            "43": "5",
            "44": "5",
            "45": "5",
            "46": "5",
            "47": "5",
            "48": "6",
            "49": "6",
            "50": "6",
            "51": "6",
            "52": "6",
            "53": "6",
            "54": "6",
            "55": "6",
            "56": "7",
            "57": "7",
            "58": "7",
            "59": "7",
            "60": "7",
            "61": "7",
            "62": "7",
            "63": "7"
        }
    },
    "SCHEDULER": {
        "scheduler.0": {
            "type"  : "DWRR",
            "weight": "1"
        },
        "scheduler.1": {
            "type"  : "DWRR",
            "weight": "1"
        }
    },
    "QUEUE": {
{% for port in port_names_list %}
        "{{ port }}|0-1": {
            "scheduler"   : "scheduler.0"
        },
{% endfor %}
{% for port in port_names_list %}
        "{{ port }}|2-3": {
            "scheduler"   : "scheduler.1",
            "wred_profile"  : "AZURE_LOSSLESS"
        },
{% endfor %}

{% for port in port_names_list %}
        "{{ port }}|4-7": {
            "scheduler": "scheduler.0"
        }{% if not loop.last %},{% endif %}

{% endfor %}
    },
    "PORT_QOS_MAP": {
{% for port in port_names_list %}
       "{{ port }}": {
            "tc_to_pg_map": "AZURE",
            "tc_to_queue_map": "AZURE",
            "dscp_to_tc_map": "AZURE",
            "pfc_to_queue_map": "AZURE",
            "pfcwd_sw_enable": "2,3",
            "pfc_enable": "2,3"
        }{% if not loop.last %},{% endif %}

{% endfor %}
    },
    "WRED_PROFILE": {
        "AZURE_LOSSLESS" : {
            "wred_green_enable"      : "true",
            "wred_yellow_enable"     : "true",
            "wred_red_enable"        : "true",
            "ecn"                    : "ecn_all",
            "green_max_threshold"    : "2097152",
            "green_min_threshold"    : "1048576",
            "yellow_max_threshold"   : "2097152",
            "yellow_min_threshold"   : "1048576",
            "red_max_threshold"      : "2097152",
            "red_min_threshold"      : "1048576",
            "green_drop_probability" : "5",
            "yellow_drop_probability": "5",
            "red_drop_probability"   : "5"
        }
    }
}

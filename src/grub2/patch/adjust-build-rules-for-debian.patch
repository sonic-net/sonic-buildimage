Adjust build rules for Debian Trixie

From: Jason Bridges <jasonbridges@google.com>

---
 debian/control |   24 ------------------------
 debian/rules   |    4 ++--
 2 files changed, 2 insertions(+), 26 deletions(-)

diff --git a/debian/control b/debian/control
index 11e9e7e57..11c81ed29 100644
--- a/debian/control
+++ b/debian/control
@@ -20,10 +20,8 @@ Build-Depends: debhelper-compat (= 13),
  libgeom-dev (>= 8.2+ds1-1~) [kfreebsd-any] | libgeom-dev (<< 8.2) [kfreebsd-any],
  libsdl2-dev [!hurd-any],
  xorriso,
- qemu-system [i386 kfreebsd-i386 kopensolaris-i386 any-amd64],
  cpio [i386 kopensolaris-i386 amd64 x32],
  parted [!hurd-any],
- libfuse3-dev [linux-any kfreebsd-any],
  fonts-dejavu-core,
  liblzma-dev,
  liblzo2-dev,
@@ -841,25 +839,6 @@ Description: GRand Unified Bootloader, version 2 (Open Firmware version)
  use with Open Firmware implementations.  Installing this package indicates
  that this version of GRUB should be the active boot loader.
 
-Package: grub-firmware-qemu
-Architecture: any-i386 any-amd64
-Depends: ${misc:Depends}
-Recommends: qemu-system-x86
-Enhances: qemu-system-x86
-Multi-Arch: foreign
-Description: GRUB firmware image for QEMU
- This package contains a binary of GRUB that has been built for use as
- firmware for QEMU.  It can be used as a replacement for other PC BIOS
- images provided by seabios, bochsbios, and so on.
- .
- In order to make QEMU use this firmware, simply add `-bios grub.bin' when
- invoking it.
- .
- This package behaves in the same way as GRUB for coreboot, but doesn't
- contain any code from coreboot itself, and is only suitable for QEMU. If
- you want to install GRUB as firmware on real hardware, you need to use the
- grub-coreboot package, and manually combine that with coreboot.
-
 Package: grub-uboot-bin
 Architecture: any-arm
 Depends: ${shlibs:Depends}, ${misc:Depends}, grub-common (= ${binary:Version})
@@ -1034,9 +1013,3 @@ Multi-Arch: foreign
 Description: GRand Unified Bootloader, version 2 (starfield theme)
  This is the default theme for GRUB's graphical menu.
 
-Package: grub-mount-udeb
-Package-Type: udeb
-Section: debian-installer
-Architecture: linux-any kfreebsd-any
-Depends: ${shlibs:Depends}, ${misc:Depends}
-Description: export GRUB filesystems using FUSE
-
diff --git a/debian/rules b/debian/rules
index 7a9414f05..9667c856d 100755
--- a/debian/rules
+++ b/debian/rules
@@ -65,7 +65,7 @@ BUILD_PACKAGES := $(strip $(shell dh_listpackages))
 # REAL_PACKAGES build an actual grub variant (and therefore have both configure
 # and build stages). EXTRA_PACKAGES do not build grub but may depend on a
 # REAL_PACKAGE (and therefore only have a build stage)
-REAL_PACKAGES = grub-common grub-emu grub-pc grub-coreboot grub-efi-ia32 grub-efi-amd64 grub-efi-ia64 grub-efi-arm grub-efi-arm64 grub-efi-riscv64 grub-efi-loong64 grub-ieee1275 grub-firmware-qemu grub-uboot grub-xen grub-yeeloong
+REAL_PACKAGES = grub-common grub-emu grub-pc grub-coreboot grub-efi-ia32 grub-efi-amd64 grub-efi-ia64 grub-efi-arm grub-efi-arm64 grub-efi-riscv64 grub-efi-loong64 grub-ieee1275 grub-uboot grub-xen grub-yeeloong
 EXTRA_PACKAGES = grub-rescue-pc grub-xen-host
 
 ifneq (,$(filter i386 amd64,$(DEB_HOST_ARCH_CPU)))
@@ -525,8 +525,8 @@ ifeq (yes,$(shell dpkg-vendor --derives-from Ubuntu && echo yes))
 		$(CURDIR)/debian/$(package)/etc/pm/sleep.d/10_grub-common
 endif
 
-NON_PLATFORM_PACKAGES = $(filter grub2 grub-linuxbios grub-efi grub-rescue-pc grub-firmware-qemu grub-xen-host,$(BUILD_PACKAGES))
-COMMON_PLATFORM_PACKAGES = $(filter grub-common grub2-common grub-theme-starfield grub-mount-udeb,$(BUILD_PACKAGES))
+NON_PLATFORM_PACKAGES = $(filter grub2 grub-linuxbios grub-efi grub-rescue-pc grub-xen-host,$(BUILD_PACKAGES))
+COMMON_PLATFORM_PACKAGES = $(filter grub-common grub2-common grub-theme-starfield,$(BUILD_PACKAGES))
 PLATFORM_PACKAGES = $(filter grub-pc grub-efi-ia32 grub-efi-amd64 grub-efi-ia64 grub-efi-arm grub-efi-arm64 grub-efi-riscv64 grub-efi-loong64 grub-ieee1275 grub-coreboot grub-uboot grub-xen grub-yeeloong,$(BUILD_PACKAGES))
 
 override_dh_install:
